<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:shiro="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>角色管理</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="Mosheng" name="author" />


    <!-- App favicon -->
    <link rel="shortcut icon" href="../assets/images/favicon.ico">
    <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="../css/icons.min.css" rel="stylesheet" type="text/css" />
    <link href="../css/app.min.css" rel="stylesheet" type="text/css" />
    <!-- third party css -->
    <link href="../css/vendor/dataTables.bootstrap4.css" rel="stylesheet" type="text/css" />
    <link href="../css/vendor/responsive.bootstrap4.css" rel="stylesheet" type="text/css" />
    <link href="../css/vendor/buttons.bootstrap4.css" rel="stylesheet" type="text/css" />
    <link href="../css/vendor/select.bootstrap4.css" rel="stylesheet" type="text/css" />
    <!-- third party css end -->
</head>

<body>
<div th:include="common/menu"></div>


<div class="wrapper">
    <div class="container-fluid">

        <!-- start page title -->
        <div class="row">
            <div class="col-12">
                <div class="page-title-box">
                    <div class="page-title-right">
                        <ol class="breadcrumb m-0">
                            <li class="breadcrumb-item">系统设置</a></li>
                            <li class="breadcrumb-item active">角色管理</li>
                        </ol>
                    </div>
                    <h4 class="page-title">角色管理</h4>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <table id="datatable-buttons" class="table table-striped dt-responsive nowrap">
                            <thead>
                            <tr>
                                <th>序号</th>
                                <th>网址</th>
                                <th>网站</th>
                                <th>登录账户</th>
                                <th>昵称</th>
                                <th>注册手机号</th>
                                <th>密码</th>
                                <th>创建时间</th>
                                <th>更新时间</th>
                                <th>所属者</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>

                    </div> <!-- end card body-->
                </div> <!-- end card -->
            </div><!-- end col-->
        </div>
        <!-- end row-->




    </div> <!-- end card -->
</div><!-- end col-->
</div>
</div> <!-- end container -->
</div>
<div th:include="common/footer"></div>

<!-- App js -->
<script src="../js/vendor.min.js"></script>
<script src="../js/app.min.js"></script>
<script>
    $.ajax({
        //几个参数需要注意一下
        type: "GET",//方法类型
        dataType: "json",//预期服务器返回的数据类型
        url: "/account/list" ,//url
        success: function (rt) {
            var html="";
            var data=rt.data.list;
            if(rt.code==200){
                for(var i=0;i<data.length;i++){
                    console.log(data[i]);
                    html+="<tr><td>"+data[i].id+"</td><td>"+data[i].website+"</td><td>"+data[i].webname+"</td><td>"+data[i].username+"</td><td>"+data[i].nickname+"</td>" +
                        "<td>"+data[i].phone+"</td><td>"+data[i].password+"</td><td>"+data[i].createtime+"</td><td>"+data[i].updatetime+"</td><td>"+data[i].ext1+"</td><td><span shiro:hasPermission='acc:update'><a href=''>修改|</a></span><span shiro:hasPermission='acc:del'><a href=''>删除</a></span></td></tr>"
                }
                $("#datatable-buttons").append(html);
            }
        }
    });

</script>

</body>
</html>
